decisions = {
    vassalize_inna = {
        is_high_prio = yes
        ai_check_interval = 12
        
        potential = {
            is_adult = yes
            religion = bori
            religion_head = { independent = yes }
        }
        
        allow = {
            is_adult = yes
            religion = bori
            religion_head = { 
                independent = yes
                opinion = { who = ROOT value = 80 }
            }
            higher_tier_than = KING
            OR = {
                has_landed_title = c_kano
                is_liege_or_above_of = c_kano
            }
            wealth = 50
            piety = 300
        }
        
        effect = {
            wealth = -50
            custom_tooltip = {
                text = vassalize_inna_tooltip
                religion_head = { set_defacto_liege = ROOT }
            }
        }
        
        revoke_allowed = {
            always = no
        }
        
        ai_will_do = {
            factor = 1
            
            modifier = {
                factor = 0.8
                NOT = { trait = proud }
            }
            modifier = {
                factor = 0.5
                NOT = { trait = ambitious }
            }
            modifier = {
                factor = 0.5
                trait = humble
            }
            modifier = {
                factor = 0.25
                trait = content
            }
        }
    }

    exalt_inna = {
        is_high_prio = yes
        ai_check_interval = 24
    
        potential = {
            is_adult = yes
            religion = bori
            NOT = { has_global_flag = bori_pseudo_reformation }
        }
        
        allow = {
            is_adult = yes
            religion = bori
            has_landed_title = e_kanem
            OR = {
                has_landed_title = c_kano
                is_liege_or_above_of = c_kano
            }
            custom_tooltip = {
                text = controls_holy_sites_tooltip
                any_realm_title = {
                    is_holy_site = bori
                    count = 5
                }
            }
            religion_authority = 0.5
            piety = 750
        }
        
        effect = {
            religion_head = { grant_title = c_kano }
            set_autocephaly = no
            set_can_excommunicate = yes
            set_can_grant_invasion_cb = yes
            set_can_call_crusade = yes
            #set_can_have_antipopes = yes
            set_global_flag = bori_pseudo_reformation
            character_event = { id = AFRREL.002 }
        }
        
        revoke_allowed = {
            always = no
        }
        
        ai_will_do = {
            factor = 1
            
            modifier = {
                factor = 0
                trait = cynical
            }
            modifier = {
                factor = 0.5
                NOT = { trait = zealous }
            }
            modifier = {
                factor = 0.5
                NOT = { trait = possessed }
            }
        }
    }
    
    # Forge A tag Roog castes
    become_foro = {
        only_playable = yes
		is_high_prio = yes
		ai_check_interval = 12
        
		potential = {
			is_playable = yes
			is_adult = yes
            OR = {
                religion = a_tag_roog
                religion = a_tag_roog_reformed
            }
			OR = {
				is_feudal = yes
				is_tribal = yes
				is_nomadic = yes
			}
			NOT = { trait = foro }
		}
		
		allow = {
            custom_tooltip = {
                text = has_griot_tooltip
                any_courtier_or_vassal = {
                    has_minor_title = title_griot
                    liege = { character = PREVPREV }
                }
            }
			OR = {
				trait = jakhanke
				piety = 200
			}
			OR = {
				scaled_wealth = 6
				AND = {
                    custom_tooltip = {
                        text = learned_griot_tooltip
                        any_courtier_or_vassal = {
                            has_minor_title = title_griot
                            liege = { character = PREVPREV }
                            learning = 12
                        }
                    }
					scaled_wealth = 3
				}
			}
		}

		effect = {
			if = {
				limit = {
                    any_courtier_or_vassal = {
                        has_minor_title = title_griot
                        liege = { character = PREVPREV }
                        learning = 12
                    }
                }
				scaled_wealth = -3
			}
			else = {
				scaled_wealth = -6
			}
			if = {
				limit = { NOT = { trait = jakhanke } }
				piety = -200
			}
			
			prestige = 50
			add_trait = foro
			any_spouse = {
				limit = {
					is_ruler = no
					liege = { character = ROOT }
					NOT = { trait = foro }
				}
				add_trait = foro
			}
			any_child = {
				limit = {
					is_ruler = no
					liege = { character = ROOT }
					NOT = { trait = foro }
				}
				add_trait = foro
			}
			hidden_tooltip = {
				top_liege = {
					any_realm_character = {
						limit = {
                            OR = {
                                religion = a_tag_roog
                                religion = a_tag_roog_reformed
                            }
							is_adult = yes
							NOT = { character = ROOT }
							NOT = { trait = cynical }
						}
						opinion = {
							modifier = opinion_changed_caste
							who = ROOT
							years = 100
						}
					}
				}
			}
		}
		
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.5
			}
		}
    }
    
    become_wangara = {
        only_playable = yes
		is_high_prio = yes
		ai_check_interval = 12
        
		potential = {
			is_playable = yes
			is_adult = yes
            OR = {
                religion = a_tag_roog
                religion = a_tag_roog_reformed
            }
			OR = {
                is_republic = yes
                is_merchant_republic = yes
			}
			NOT = { trait = wangara }
		}
		
		allow = {
            custom_tooltip = {
                text = has_griot_tooltip
                any_courtier_or_vassal = {
                    has_minor_title = title_griot
                    liege = { character = PREVPREV }
                }
            }
			OR = {
				trait = jakhanke
				piety = 200
			}
			OR = {
				scaled_wealth = 6
				AND = {
                    custom_tooltip = {
                        text = learned_griot_tooltip
                        any_courtier_or_vassal = {
                            has_minor_title = title_griot
                            liege = { character = PREVPREV }
                            learning = 12
                        }
                    }
					scaled_wealth = 3
				}
			}
		}

		effect = {
			if = {
				limit = {
                    any_courtier_or_vassal = {
                        has_minor_title = title_griot
                        liege = { character = PREVPREV }
                        learning = 12
                    }
                }
				scaled_wealth = -3
			}
			else = {
				scaled_wealth = -6
			}
			if = {
				limit = { NOT = { trait = jakhanke } }
				piety = -200
			}
			
			prestige = 50
			add_trait = wangara
			any_spouse = {
				limit = {
					is_ruler = no
					liege = { character = ROOT }
					NOT = { trait = wangara }
				}
				add_trait = wangara
			}
			any_child = {
				limit = {
					is_ruler = no
					liege = { character = ROOT }
					NOT = { trait = foro }
				}
				add_trait = wangara
			}
			hidden_tooltip = {
				top_liege = {
					any_realm_character = {
						limit = {
                            OR = {
                                religion = a_tag_roog
                                religion = a_tag_roog_reformed
                            }
							is_adult = yes
							NOT = { character = ROOT }
							NOT = { trait = cynical }
						}
						opinion = {
							modifier = opinion_changed_caste
							who = ROOT
							years = 100
						}
					}
				}
			}
		}
		
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.5
			}
		}
    }
}