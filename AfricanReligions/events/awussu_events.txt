namespace = AFRREL

# Carnival of Awussu Begins Event
character_event = {
    id = AFRREL.033
    title = EVTTITLE_AFRREL033
    desc = EVTDESC_AFRREL033
    picture = GFX_evt_feast

    is_triggered_only = yes
    only_playable = yes

    immediate = { 
        set_character_flag = summer_fair_begin
    }

    option = {
        name = "EVTOPTA_AFRREL033"
    }
}

#Carnival of Awussu, pretty lad
character_event = {
	id = AFRREL.035
	title = EVTTITLE_AFRREL035
	desc = EVTDESC_AFRREL035
	picture = GFX_evt_scandal

	capable_only = yes
	prisoner = no
	only_playable = yes

	trigger = {
		OR = {
			AND = {
				is_female = yes
				NOT = { trait = homosexual }
			}
			AND = {
				is_female = no
				trait = homosexual 
			}
		}

		OR = {
			NOT = { has_character_flag = fair_event_happened }
			had_character_flag = {
				flag = fair_event_happened
				days = 3
			}
		}
		has_character_modifier = holding_summer_fair
		had_character_flag = {
			flag = summer_fair_begin
			days = 3
		}
		NOT = { has_character_flag = fair_event_AFRREL035 }	
	}

	immediate = {
		set_character_flag = fair_event_AFRREL035
		set_character_flag = fair_event_happened
	}

	mean_time_to_happen = {
		days = 1
	}

	option = {
		name = "EVTOPTA_AFRREL035" #Take a new lover
		create_character = {
			random_traits = yes
			female = no
			dynasty = random
			culture = ROOT
			religion = ROOT
			age = 16			
			trait = fair
		}

		new_character = {
			if = {
				limit = { ROOT = { trait = homosexual } }
				add_trait = homosexual
			}

			add_lover = ROOT
			remove_trait = genius
			remove_trait = imbecile
			remove_trait = ugly
			remove_trait = slow
			remove_trait = chaste
		}
	}

	optioni = {
		name = "EVTOPTB_AFRREL035" #Reject the new lover
		random = {
			chance = 25
			add_trait = chaste
		}
	}
}

#Carnival of Awussu Ends Event
character_event = {
	id = AFRREL.034
	title = EVTTITLE_AFRREL034
	desc = EVTDESC_AFRREL034
	picture = GFX_evt_feast

	is_triggered_only = yes
	only_playable = yes

	option = {
		name = "EVTOPTA_AFRREL034"
		remove_character_modifier = holding_summer_fair
		clr_character_flag = summer_fair_begin
		clr_character_flag = summer_fair_begin
		set_character_flag = recent_summer_fair
		clr_character_flag = fair_event_happened
		clr_character_flag = do_not_disturb
		clr_character_flag = fair_event_74000
		clr_character_flag = fair_event_74005
		clr_character_flag = fair_event_74010
		clr_character_flag = fair_event_74015
		clr_character_flag = fair_event_74020
		clr_character_flag = fair_event_74025
		clr_character_flag = fair_event_74030
		clr_character_flag = fair_event_74035
		clr_character_flag = fair_event_74040
		clr_character_flag = fair_event_74042
		clr_character_flag = fair_event_74044
		clr_character_flag = fair_event_74045
		clr_character_flag = fair_event_4105
		clr_character_flag = fair_event_4170
		prestige = 10
	}
}